async function n(){if(!(typeof window>"u"))try{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistrations();for(const a of o)await a.unregister()}if(window.caches&&caches.keys){const o=await caches.keys();for(const a of o)await caches.delete(a)}const e="__famfinity_sw_cleanup_done__";sessionStorage.getItem(e)||(sessionStorage.setItem(e,"1"),window.location.reload())}catch(e){console.warn("SW cleanup failed",e)}}export{n as cleanupServiceWorkersAndCaches};
